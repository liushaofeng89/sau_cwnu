<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.cwnu.sau.db.mybatis.po.SAUNoticePOMapper">
	<insert id="insertNotice" parameterType="Notice" useGeneratedKeys="true" keyProperty="id">
		insert into sau_cwnu_notice(notice_title,
		notice_author,notice_content,notice_visited,notice_update_time) values(#{title}, #{author}, #{content}, #{visited}, #{updateTime})
	</insert>

	<select id="listAllByUpdateOrdered" parameterType="String" resultType="Notice">
		select id,
		notice_title as title,
		notice_content as content,
		notice_author as author,
		notice_visited as visited,
		notice_update_time as updateTime
		from
		sau_cwnu_notice order by notice_update_time ${value}
	</select>


	<select id="listById" parameterType="int" resultType="Notice">
		select id,
		notice_title as title,
		notice_content as content,
		notice_author as author,
		notice_visited as visited,
		notice_update_time as
		updateTime
		from
		sau_cwnu_notice where id=#{id}
	</select>

	<update id="updateViewCountById" parameterType="Notice">
		UPDATE sau_cwnu_notice SET notice_visited = #{visited} WHERE id = #{id}
	</update>
</mapper>